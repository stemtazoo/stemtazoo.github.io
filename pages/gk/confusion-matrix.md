---
layout: page
title: 混同行列（Confusion Matrix）
permalink: /gk/confusion-matrix/
tags: [gk, 機械学習, 評価指標, 頻出]
---

## まず結論
混同行列とは、**分類結果を「正解／不正解 × 予測／実際」の4パターンに分けて整理した表**です。  
評価指標（Accuracy・Precision・Recallなど）は **すべて混同行列から計算** されます。

👉 **評価指標の土台** になる超重要概念です。

---

## 直感的な説明
「予測が当たったか・外れたか」だけでなく、

- **当たりを当てたのか**
- **ハズレをハズレと判断できたのか**
- **誤検知したのか**
- **見逃したのか**

を **きちんと分けて数える** のが混同行列です。

異常検知や医療診断のように、  
👉 **間違いの種類が重要な問題** で特に使われます。

---

## 混同行列の4要素（最重要）

|  | 予測：陽性 | 予測：陰性 |
| --- | --- | --- |
| 実際：陽性 | **TP（真陽性）** | **FN（偽陰性）** |
| 実際：陰性 | **FP（偽陽性）** | **TN（真陰性）** |

---

## 各要素の意味
- **TP（True Positive）**  
  実際に陽性で、予測も陽性（正解）
- **TN（True Negative）**  
  実際に陰性で、予測も陰性（正解）
- **FP（False Positive）**  
  実際は陰性なのに、陽性と予測（誤検知）
- **FN（False Negative）**  
  実際は陽性なのに、陰性と予測（見逃し）

---

## 直感的な例（異常検知）
「異常＝陽性」「正常＝陰性」とすると：

- TP：異常を異常と検知できた ✅  
- TN：正常を正常と判断できた ✅  
- FP：正常なのに異常アラート ❌（誤検知）  
- FN：異常なのに見逃した ❌（見逃し）

---

## G検定ひっかけポイント
- **FP＝誤検知**
- **FN＝見逃し**
- F（False）は **間違い**
- 混同行列を理解しないと  
  👉 Precision / Recall / F1-score は理解できない

---

## よくある勘違い
- ❌ 正解率（Accuracy）だけ見ればよい  
  → ⭕ 誤検知と見逃しを区別する必要がある
- ❌ 混同行列は表を覚えるだけ  
  → ⭕ **意味をセットで覚える**

---

## まとめ（試験直前用）
- 混同行列＝**分類結果の内訳表**
- TP / TN / FP / FN の4つが基本
- **FPは誤検知、FNは見逃し**
- 評価指標は **すべてここから作られる**
