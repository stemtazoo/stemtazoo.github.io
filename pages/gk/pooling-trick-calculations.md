---
layout: page
title: Pooling層の計算ひっかけ問題集（出力サイズ）
permalink: /gk/pooling-trick-calculations/
tags: [gk, cnn, pooling, cheatsheet]
gk_section: ディープラーニングの応用例/画像認識/ネオコグニトロンとLeNet
gk_order: 7
---

## まず結論

* **Pooling層にも出力サイズの計算がある**
* ただし「パラメータ数」は **0**
* G検定では **Convと混同させる罠** が多い

---

## Pooling層の基本

* 代表例

  * Max Pooling
  * Average Pooling
* **学習する重みは持たない**
* 役割は **空間サイズの縮小**

---

## 出力サイズの基本式

Conv層と同じ形の式を使います。

```
出力サイズ = (入力サイズ + 2×パディング − プーリングサイズ) ÷ ストライド + 1
```

※ 多くの問題では **パディングなし（P=0）**

---

## 典型問題パターン

### 条件例

* 入力：8 × 8
* プーリング：2 × 2
* ストライド：2
* パディング：0

### 計算

```
(8 − 2) ÷ 2 + 1 = 4
```

👉 出力：**4 × 4**

---

## ひっかけ①「パラメータ数を計算してしまう」

❌ 誤り

* Pooling層は

  * カーネルはあるが
  * **重みを学習しない**

👉 **パラメータ数 = 0**

---

## ひっかけ②「チャネル数が変わると思う」

* Pooling後も

  * **チャネル数は変わらない**

例：

* 入力：32ch → 出力：32ch

---

## ひっかけ③「+1 を忘れる」

Convと同じく、

```
+1
```

を忘れるとズレます。

---

## ひっかけ④「ストライド=プーリングサイズと決めつける」

* よくあるが
* **必ずしも同じとは限らない**

👉 問題文の数値を必ず使う

---

## Conv層との違いまとめ

| 項目     | Conv層 | Pooling層 |
| ------ | ----- | -------- |
| 重み     | あり    | **なし**   |
| バイアス   | あり    | **なし**   |
| パラメータ数 | あり    | **0**    |
| 役割     | 特徴抽出  | サイズ縮小    |

---

## 超短縮チェックリスト（試験中用）

* □ Poolingだからパラメータ0？
* □ チャネル数そのまま？
* □ +1 忘れてない？
* □ ストライド確認した？

---

## まとめ（試験直前用）

* Pooling層は **計算するが学習しない**
* 出力サイズは Convと同じ式
* パラメータ数を聞かれたら **0**

👉 次は **CNN全体のサイズ遷移まとめ** に行くと完成
