---
layout: page
title: セマンティックセグメンテーション系まとめ（FCN / U-Net / SegNet）
permalink: /gk/segmentation-cheatsheet/
tags: [gk, cheatsheet, cnn]
gk_section: ディープラーニングの応用例/画像認識/セグメンテーションタスク
gk_order: 6
---

## まず結論（この1ページで即断する）

G検定でセマンティックセグメンテーションが出たら、
**見るべきポイントはたった3つ**です。

1. **何をデコーダに渡しているか？**
2. **境界情報をどう保っているか？**
3. **FCN / U-Net / SegNet のどれか？**

このページは、選択肢を**最短で切るためのチートシート**です。

---

## 直感的な全体像

| モデル        | 一言で言うと               |
| ---------- | -------------------- |
| **FCN**    | 全結合層を捨てて、畳み込みだけで画素分類 |
| **U-Net**  | 特徴マップをショートカットで渡す     |
| **SegNet** | 最大値プーリングの「位置」を覚えて戻す  |

---

## 定義・仕組み（最小限）

### FCN（Fully Convolutional Network）

* 画像分類 CNN から **全結合層を除去**
* 出力をマップとして返すことで画素単位分類
* アップサンプリングで元サイズに戻す

👉 **「FCN = 全部畳み込み」**

---

### U-Net

* エンコーダ・デコーダ構造
* **エンコーダの特徴マップをスキップ接続で結合**
* 位置情報を強く保持できる

👉 **「特徴マップをそのまま渡す」**

---

### SegNet

* エンコーダ・デコーダ構造
* **最大値プーリング時の位置（インデックス）を保存**
* デコーダでその位置を使ってアップサンプリング

👉 **「プーリング位置を記憶」**

---

## いつ使う？（G検定視点）

| 観点                 | FCN | U-Net | SegNet |
| ------------------ | --- | ----- | ------ |
| セマンティックセグメンテーション   | ○   | ◎     | ◎      |
| Encoder-Decoder 構造 | △   | ○     | ○      |
| 境界の保持              | △   | ◎     | ○      |
| G検定の出題頻度           | 高   | 高     | 高      |

---

## G検定ひっかけ即断表（最重要）

### 問題文にこれが出たら即決

| キーワード          | 正解                               |
| -------------- | -------------------------------- |
| 全結合層を使わない      | **FCN**                          |
| 画素ごとの分類        | **FCN / U-Net / SegNet**（他条件を見る） |
| スキップ接続         | **U-Net**                        |
| 特徴マップを結合       | **U-Net**                        |
| 最大値プーリングの位置を記憶 | **SegNet**                       |
| 境界がぼやけにくい工夫    | **U-Net / SegNet**               |

---

## なぜ間違えやすいか（超重要）

* Encoder-Decoder という言葉だけでは **判別不能**
* 「FCN」という名前が **Fully Connected と誤解されやすい**
* SegNet と U-Net は **どちらもセグメンテーションで構造が似ている**

👉 **違いは「何をデコーダに渡すか」だけを見る**

---

## まとめ（試験直前用・暗記版）

* **FCN**：全結合層なし、全部畳み込み
* **U-Net**：特徴マップをスキップ接続
* **SegNet**：最大値プーリングの位置を記憶

👉 迷ったら

> **位置？ → SegNet**
> **特徴？ → U-Net**
> **全部畳み込み？ → FCN**
