---
layout: page
title: CNN 計算ひっかけ問題集（出力サイズ・パラメータ数）
permalink: /gk/cnn-trick-calculations/
tags: [gk, cnn, cheatsheet]
---

## まず結論

* CNNの計算問題は **知識不足ではなく注意不足で落ちる**
* ひっかけは毎回ほぼ同じ
* **罠パターンを先に知っておくと即切れる**

---

## ひっかけ①「+1 を忘れる」

### 問題あるある

```
出力サイズ = (入力 + 2P − K) ÷ S
```

❌ ここで止めてしまう

### 正解

```
出力サイズ = (入力 + 2P − K) ÷ S + 1
```

👉 **+1 は必須**

---

## ひっかけ②「パディングを片側分しか足さない」

### よくある誤り

* パディング = 2
* 入力 + 2

❌ **誤り**

### 正しくは

* 左右（上下）に入る

```
入力 + 2×パディング
```

---

## ひっかけ③「ストライドを掛け算で考える」

### 誤解

* ストライド2 → 出力サイズも2倍？

❌ 完全に誤り

### 正解

* **割る**

```
÷ ストライド
```

---

## ひっかけ④「割り切れないと焦る」

* G検定では

  * **必ず割り切れる設定**

👉 割り切れない時点で

* 式ミス
* 数字の見落とし

---

## ひっかけ⑤「パラメータ数に出力サイズを掛ける」

### ありがちな誤答

```
パラメータ数 = 出力サイズ × カーネル × チャネル
```

❌ 完全に誤り

---

### 正解の考え方

```
カーネル縦 × カーネル横 × 入力チャネル × 出力チャネル + バイアス
```

👉 **空間サイズは一切関係ない**

---

## ひっかけ⑥「RGBなのに入力チャネル=1」

* グレースケール → 1
* **RGB画像 → 3**

👉 問題文に書いてなくても

* 画像 → RGB前提

---

## ひっかけ⑦「バイアスを忘れる」

* Conv層
* FC層

どちらも

```
+ 出力チャネル数（or 出力ノード数）
```

---

## 超短縮チェックリスト（試験中用）

* □ +1 書いた？
* □ 2×P になってる？
* □ ストライドで割った？
* □ 出力サイズを掛けてない？
* □ チャネル数合ってる？
* □ バイアス足した？

---

## まとめ（試験直前用）

* CNN計算問題は **罠を知っていれば即答**
* 迷ったらチェックリストを見る
* G検定では **落とす方が難しい問題** にできる

👉 次は **Pooling層の計算ひっかけ集** へ進むと完成度MAX
