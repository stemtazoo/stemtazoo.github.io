---
layout: page
title: 評価指標まとめ（チートシート）
permalink: /gk/metrics-summary/
tags: [gk, 機械学習, 評価指標, まとめ, 頻出]
---

## まず結論

評価指標は **1つだけを見るのは危険** です。
目的に応じて、**複数の指標を組み合わせて判断**します。

👉 G検定では **「何を見たい指標か」** を理解しているかが問われます。

---

## 混同行列（すべての土台）

|       | 予測：陽性 | 予測：陰性 |
| ----- | ----- | ----- |
| 実際：陽性 | TP    | FN    |
| 実際：陰性 | FP    | TN    |

* **FP：誤検知** / **FN：見逃し**
* すべての評価指標は、ここから計算される

---

## 基本指標（まずここ）

### Accuracy（正解率）

**(TP + TN) / (TP + TN + FP + FN)**

* 全体でどれだけ当たったか
* クラス不均衡では当てにならないことがある

---

### Precision（適合率）

**TP / (TP + FP)**

* 誤検知をどれだけ抑えられているか
* アラートの信頼性を見る

---

### Recall（再現率）

**TP / (TP + FN)**

* 見逃しをどれだけ防げているか
* 異常検知・医療で重要

---

### F1-score

**2 × (Precision × Recall) / (Precision + Recall)**

* Precision と Recall のバランス指標
* クラス不均衡データで有効

---

## 曲線系の指標（しきい値全体を見る）

### ROC曲線 / AUC

* 縦軸：TPR（Recall）
* 横軸：FPR（偽陽性率）
* **AUC = 0.5 はランダム**
* モデル比較に強い

---

### Precision–Recall曲線 / AP

* 横軸：Recall
* 縦軸：Precision
* **クラス不均衡データで特に有効**
* AP は PR曲線の面積

---

## 使い分け早見表（超重要）

| 状況        | 重視する指標    |
| --------- | --------- |
| 全体性能をざっくり | Accuracy  |
| 誤検知を減らしたい | Precision |
| 見逃しを防ぎたい  | Recall    |
| バランス重視    | F1-score  |
| モデル比較     | ROC / AUC |
| 不均衡データ    | PR曲線 / AP |

---

## G検定ひっかけ総まとめ

* Accuracy だけ見るのは危険
* Precision と Recall は **分母が違う**
* F1 は **調和平均**
* ROC は **しきい値全体**
* 不均衡なら **PR曲線**

---

## 試験直前チェック

* 誤検知？ 見逃し？ どっちが困る？
* データは偏っている？
* 単一指標で判断していない？

👉 これを自分に問いかければ、指標選択で迷いません。
