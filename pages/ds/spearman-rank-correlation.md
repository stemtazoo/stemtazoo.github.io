---
layout: page
title: スピアマンの順位相関とは？（Spearmanの順位相関係数）【DS検定】
permalink: /ds/spearman-rank-correlation/
tags: [ds, statistics]
---

## まず結論

- **スピアマンの順位相関とは、2つの変数の「順位」に着目して、単調な関係の強さを測る指標**です。  
- DS検定では「ピアソンとの違い」「量的データか質的データか」「線形か単調か」を判断できるかが問われます。

---

## 直感的な説明

例えば、営業成績の順位と顧客満足度の順位を比べる場面を考えます。

- 売上の**絶対値**はバラバラでも  
- 「上位の人ほど満足度も高い」という**順番の傾向**があれば関係があると言えます。

このとき使うのがスピアマンの順位相関です。

ポイントは、

> 「どれくらい増えたか」ではなく  
> 「上がれば上がる、下がれば下がる」という流れを見る

ということです。

DS検定では、  
「線形関係ではないが、増加傾向はある」というケースで使える指標はどれか？  
と問われることが多いです。

---

## 定義・仕組み

スピアマンの順位相関は、

1. それぞれのデータを**順位に変換**
2. その順位同士で相関を計算

する方法です。

つまり、

- 元の値そのものではなく  
- **順番だけに注目する**

というのが本質です。

### ピアソンとの違い

| 指標 | 見ているもの |
|------|--------------|
| ピアソンの積率相関 | 値の線形関係 |
| スピアマンの順位相関 | 順位の単調関係 |

スピアマンは

- データが正規分布でなくてもよい
- 外れ値の影響を受けにくい
- 順序尺度にも使える

という特徴があります。

DS検定では  
「質的データ（順序尺度）にも使えるのはどれか？」  
といった形で問われることがあります。

---

## どんな場面で使う？

### 使うべき場面

- 順位データ（例：満足度5段階）
- 正規分布を仮定できないデータ
- 曲線的だが、増加・減少の流れがあるデータ
- 外れ値の影響を減らしたい場合

### 使うと誤解しやすい場面

- 完全な線形関係の強さを知りたい場合
- 増加幅そのものが重要な場合

例えば、

y = x³ のような関係は  
線形ではないが単調増加です。

この場合：

- ピアソン → 1より小さい  
- スピアマン → +1  

になります。

ここはDS検定の典型的なひっかけです。

---

## よくある誤解・混同

### ❌ ピアソンと同じもの

→ 違います。  
ピアソンは「直線的な関係」だけを見ます。  
スピアマンは「単調な関係」を見ます。

---

### ❌ 値の差をそのまま使う

→ スピアマンは順位に変換してから計算します。

---

### ❌ 名義尺度にも使える

→ 使えません。  
**順序があるデータ（順序尺度）まで**です。

---

### DS検定での迷いポイント

- 「線形関係」と書いてあれば → ピアソン  
- 「単調関係」と書いてあれば → スピアマン  
- 「順位」「順序尺度」と書いてあれば → スピアマン

選択肢ではここを混同させてきます。

---

## まとめ（試験直前用）

- スピアマンは「順位」で相関を測る  
- 単調関係を評価する指標  
- 順序尺度でも使える  
- 線形関係を測るのはピアソン  

「線形か？単調か？」  
これが判断基準です。

---

## 【対応スキル項目（データサイエンス力シート）】

- スキルカテゴリ：基礎数学  
- サブカテゴリ：統計数理基礎  
- ★ 相関係数の意味を理解している  
- ★ データの尺度水準（名義尺度・順序尺度・間隔尺度・比例尺度）を理解している
