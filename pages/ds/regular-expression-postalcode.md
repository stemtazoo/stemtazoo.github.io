
---

layout: page title: 郵便番号の正規表現とは？電話番号との違いで理解する【DS検定】 permalink: /ds/regular-expression-postalcode/ tags: [ds, preprocessing, cheatsheet]

まず結論

郵便番号の正規表現は「3桁-4桁」という形式を表現するパターンです。
DS検定では、電話番号との違いを理解しながら「完全一致かどうか」を判断できるかが問われます。


---

直感的な説明

郵便番号は、例として
123-4567
のような形をしています。

実はこの形式は、前回学んだ電話番号（市内番号形式）と同じ構造です。

ここで重要なのは、

「同じ形でも、用途が違う」

という点です。

正規表現は意味ではなく“形”だけを見ています。

DS検定では、
「この正規表現は郵便番号を完全に表しているか？」
といった形で問われることがあります。


---

定義・仕組み

代表的な郵便番号の正規表現は次の形です。

^\d{3}-\d{4}$

意味は次の通りです。

^ ：先頭から始まる

\d{3} ：数字3桁

：ハイフン


\d{4} ：数字4桁

$ ：末尾で終わる


つまり、

「数字3桁-数字4桁で構成された文字列全体」

を表しています。

ここでのポイントは、

正規表現は“数字であること”しか見ていない

実在する郵便番号かどうかまでは判定しない


という点です。


---

どんな場面で使う？

使う場面

Webフォームでの入力チェック

データ前処理での形式確認

不正データの除外


使うと誤解しやすい場面

ハイフンなし（1234567）も許可するかどうか

部分一致を許してしまうケース


たとえば、

\d{3}-\d{4}

だけだと、文字列の途中に含まれていても一致します。

DS検定では「完全一致している」と説明されていたら、^ と $ があるかを確認します。


---

よくある誤解・混同

① 電話番号との混同

形は同じでも、意味は別です。

正規表現は意味を理解しているわけではありません。

選択肢で
「電話番号専用の正規表現である」
と書かれていたら誤りです。


---

② ハイフンの有無

次のように書くこともあります。

^\d{3}-?\d{4}$

? は「0回または1回」


これで、

123-4567
1234567
