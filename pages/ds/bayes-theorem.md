---
layout: page
title: ベイズの定理とは？（条件付き確率の逆算）【DS検定リテラシー】
permalink: /ds/bayes-theorem/
tags: [ds, probability, statistics]
---

## まず結論

- **ベイズの定理とは「結果から原因の確率を逆算する」ための公式**です。  
- DS検定では「条件付き確率の向きを正しく判断できるか」を問われます。

「P(A｜B) と P(B｜A) を混同していないか」が最大のチェックポイントです。

---

## 直感的な説明

例えば、次のような場面を考えます。

- ある病気の検査で「陽性」と出た  
- 本当に病気である確率はどれくらいか？

多くの人は  
「検査が当たる確率が高いなら、ほぼ病気だろう」と考えがちです。

しかし実際に知りたいのは

- **陽性が出たときに病気である確率**

これは

- 病気の人に陽性が出る確率  
とは別物です。

ここで使うのがベイズの定理です。

---

## 定義・仕組み

### ① 条件付き確率の基本

まず基本式です。

\[
P(A｜B) = \frac{P(A ∩ B)}{P(B)}
\]

意味は、

- Bが起きたという条件のもとで
- Aも同時に起きている割合

です。

---

### ② 乗法の定理

上の式を変形すると

\[
P(A ∩ B) = P(B)P(A｜B)
\]

これを **乗法の定理** と呼びます。

「同時に起こる確率」は  
「先にBが起きる × その後Aが起きる」と考えられる、という意味です。

---

### ③ ベイズの定理の導出

同時確率は順番を変えても同じなので、

\[
P(A ∩ B) = P(A)P(B｜A)
\]

これと乗法の定理を組み合わせると、

\[
P(B)P(A｜B) = P(A)P(B｜A)
\]

これを整理すると

\[
P(A｜B) = \frac{P(B｜A)P(A)}{P(B)}
\]

これが **ベイズの定理** です。

---

### ④ 式の意味（ここが重要）

- P(A) → もともとの確率（事前確率）
- P(B｜A) → AのときBが起こる確率
- P(A｜B) → Bが起きたあとにAである確率（更新後）

つまり、

> 新しい情報Bを得たことで、Aの確率を更新する

という考え方です。

DS検定では、式そのものより  
**「確率を更新する」という意味を理解しているか** が重要です。

---

## どんな場面で使う？

### 使う場面

- 医療検査の信頼性評価
- スパムメール判定
- 故障診断
- 異常検知
- リスク評価

ビジネスでは

- 「新しい情報を得たときに判断を更新する」

という意思決定の考え方として使われます。

---

### 注意すべき場面

- 事前確率が極端に小さい場合  
- 母集団の割合を無視している場合

DS検定では

「検査精度が高い＝本当にその状態である確率も高い」

という思い込みを狙ってきます。

---

## よくある誤解・混同

### ① P(A｜B) と P(B｜A) の混同

DS検定ではここが最頻出です。

- P(B｜A)：原因があるときに結果が出る確率
- P(A｜B)：結果が出たときに原因である確率

向きが逆です。

選択肢で  
「陽性のとき病気である確率」と  
「病気のとき陽性になる確率」  
が入れ替わっていたら要注意です。

---

### ② 乗法の定理との混同

- 乗法の定理 → 同時確率を表す
- ベイズの定理 → 条件を逆にする

役割が違います。

---

### ③ 事前確率を無視する誤り

母集団にほとんど存在しない事象は  
検査が高精度でも確率は低くなります。

これを「ベースレートの無視」と呼びます。

---

## まとめ（試験直前用）

- ベイズの定理は「結果から原因を逆算する」公式  
- P(A｜B) と P(B｜A) を絶対に混同しない  
- 事前確率を必ず考慮する  
- 乗法の定理は同時確率を表す式  

DS検定では  
「向き」「更新」「事前確率」  
この3点を意識すれば選択肢を切れます。

---

## 対応スキル項目

【対応スキル項目（データサイエンス力シート）】

- 数理・統計基礎  
- 確率  
- ★ 条件付き確率やベイズの定理を理解している
