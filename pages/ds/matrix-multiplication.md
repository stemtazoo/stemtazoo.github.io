---

layout: page
title: 行列の掛け算とは？（行列同士の掛け算）【DS検定リテラシー】
permalink: /ds/matrix-multiplication/
tags: [ds, statistics]
----------------------

## まず結論

行列同士の掛け算は、**「左の行」と「右の列」を組み合わせて、新しい表を作る計算**です。
DS検定では「掛け算できる条件（サイズ）」と「順番で結果が変わる」を判断させたい問題が多いです。

## 直感的な説明

行列は、業務でいうと「表（テーブル）」です。

* 左の行列：たとえば「商品ごとの販売数」
* 右の行列：たとえば「販売数 → 売上」に変換する係数（単価など）

この2つを掛けると、
「販売数の表」を「売上の表」に**まとめて変換**できます。

ポイントは、ただの足し算や要素ごとの掛け算ではなく、
**いくつかの項目を“混ぜて合成する”**計算になっていることです。

## 定義・仕組み

行列A（たて m、よこ n）と、行列B（たて n、よこ p）を掛けると、
結果は「たて m、よこ p」の行列になります。

ここで大事なのは **真ん中の n が一致していること**です。

* Aが「行（m）×列（n）」
* Bが「行（n）×列（p）」

このとき、結果の各マスは
**Aの1行と、Bの1列を使って作る**イメージです。
（行と列をそれぞれ見比べて、対応する要素同士を掛けて足し合わせる）

DS検定では、次のように問われがちです。

* 「この2つは掛け算できますか？」（サイズの条件）
* 「AB と BA は同じですか？」（順番）

## どんな場面で使う？

**使うべき場面**

* 複数の値をまとめて変換したいとき（例：特徴量の線形変換、回転、スケーリング）
* いくつかの要因を合成して別の指標を作りたいとき（例：重み付けの合計をまとめて計算）
* モデルの中身を“表の変換”として理解したいとき（例：線形回帰やニューラルネットの「重み」は行列で持てる）

**使うと誤解しやすい場面**

* 「同じ形なら掛け算できる」と思ってしまうとき（実は“内側のサイズ一致”が必要）
* 「要素ごとの掛け算」と混ぜてしまうとき（Excelの感覚でミスしやすい）

## よくある誤解・混同

**誤解1：同じサイズの行列なら必ず掛け算できる**

* ❌ たて×よこ が同じでも、掛けられるとは限りません。
* ⭕ 条件は「左の列数＝右の行数」です。
* 選択肢では「同じサイズだから可能」と書かれていたら注意です。

**誤解2：AB と BA は同じ**

* ❌ 多くの場合、AB と BA は一致しません。
* ⭕ 順番が変わると「合成する順番」が変わるので結果も変わります。
* DS検定では「順番を入れ替えて同じになる」と誤認させてきます。

**誤解3：行列の掛け算＝要素ごとの掛け算**

* ❌ 行列の掛け算は、同じ場所の要素を掛ける計算ではありません。
* ⭕ 「行×列」で作る合成の計算です。
* 「要素ごとの掛け算」は別物（実装でも別演算）なので混同注意です。

## まとめ（試験直前用）

* 掛け算できる条件は「左の列数＝右の行数」
* 結果のサイズは「左の行数 × 右の列数」
* AB と BA は基本的に別物（順番が大事）
* “要素ごとの掛け算”と混同する選択肢に注意

---

【対応スキル項目（データサイエンス力シート）】
- 数学的理解
- 線形代数基礎
- ★ 行列同士、および行列とベクトルの計算方法を正しく理解し、複数の線形式を行列の積で表現できる
